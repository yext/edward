<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Project Configuration - Edward Docs</title>
    <meta name="generator" content="Hugo 0.21" />

    
    <meta name="description" content="A command line tool for managing local instances of microservices.">
    
    <link rel="canonical" href="http://engblog.yext.com/edward/projectconfig/">
    
    <meta name="author" content="Tom Elliott">
    

    <meta property="og:url" content="http://engblog.yext.com/edward/projectconfig/">
    <meta property="og:title" content="Edward Docs">
    
    <meta name="apple-mobile-web-app-title" content="Edward Docs">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="http://engblog.yext.com/edward/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="http://engblog.yext.com/edward/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('http://engblog.yext.com/edward/fonts/icon.eot');
        src: url('http://engblog.yext.com/edward/fonts/icon.eot')
               format('embedded-opentype'),
             url('http://engblog.yext.com/edward/fonts/icon.woff')
               format('woff'),
             url('http://engblog.yext.com/edward/fonts/icon.ttf')
               format('truetype'),
             url('http://engblog.yext.com/edward/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="http://engblog.yext.com/edward/stylesheets/application.css">
    <link rel="stylesheet" href="http://engblog.yext.com/edward/stylesheets/temporary.css">
    <link rel="stylesheet" href="http://engblog.yext.com/edward/stylesheets/palettes.css">
    <link rel="stylesheet" href="http://engblog.yext.com/edward/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="http://engblog.yext.com/edward/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-indigo palette-accent-blue">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Project Configuration
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/yext" title="@yext on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/yext/edward" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>Edward Docs <span class="version">1.8.3</span></strong>
        
          <br>
          yext/edward
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/yext/edward/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/yext/edward/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="Installation" href="http://engblog.yext.com/edward/installation/">
	
	Installation
</a>



  
</li>



<li>
  
    



<a  title="Quickstart" href="http://engblog.yext.com/edward/quickstart/">
	
	Quickstart
</a>



  
</li>



<li>
  
    



<a  title="Commands" href="http://engblog.yext.com/edward/commands/">
	
	Commands
</a>



  
</li>



<li>
  
    



<a class="current" title="Project Configuration" href="http://engblog.yext.com/edward/projectconfig/">
	
	Project Configuration
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Autocompletion" href="http://engblog.yext.com/edward/autocompletion/">
	
	Autocompletion
</a>



  
</li>



<li>
  
    



<a  title="Sudo" href="http://engblog.yext.com/edward/sudo/">
	
	Sudo
</a>



  
</li>



<li>
  
    



<a  title="Roadmap" href="http://engblog.yext.com/edward/roadmap/">
	
	Roadmap
</a>



  
</li>



<li>
  
    



<a  title="License" href="http://engblog.yext.com/edward/license/">
	
	License
</a>



  
</li>



<li>
  
    



<a  title="About Edward" href="http://engblog.yext.com/edward/">
	
	About Edward
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/yext" target="_blank" title="@yext on GitHub">
              @yext on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:telliott@yext.com" title="Email of telliott@yext.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Project Configuration </h1>

			

<h2 id="edward-json">edward.json</h2>

<p>The <em>edward.json</em> file defines the services and groups that can be managed by Edward.</p>

<p>Edward will look for an <em>edward.json</em> file in the current working directory, and if not found there,
it will look for <em>edward.json</em> in every parent directory to the root.</p>

<p>If no config file can be found, Edward will exit with an error and print usage information.</p>

<p>You can override this behavior with the <code>--config</code> or <code>-c</code> flag:</p>

<pre><code>$ edward -c path/to/alternative.json list
</code></pre>

<h2 id="structure">Structure</h2>

<p>An <em>edward.json</em> file at its core is a JSON document, containing an object with three array attributes:</p>

<pre><code class="language-json">{
  &quot;imports&quot;: [],
  &quot;groups&quot;: [],
  &quot;services&quot;: []
}
</code></pre>

<p>These attributes are all optional.</p>

<h2 id="services">Services</h2>

<p>A basic service consists of a <em>name</em>, a <em>path</em> in which to run the build and launch commands, and <em>commands</em>
to perform the build and launch steps:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    &quot;path&quot;: &quot;path/to/myservice&quot;,
    &quot;commands&quot;: {
        &quot;build&quot;: &quot;make install&quot;,
        &quot;launch&quot;: &quot;myservice&quot;
    }
}
</code></pre>

<p>The service <em>name</em> is the name you will use to identify this service when calling Edward commands.</p>

<div class="admonition warning">
<p class="admonition-title">Names must be unique</p>
<p>Service and group names must be unique within your Edward config. If duplicates are found, Edward will
exit with an error.</p>
</div>

<p>The <em>path</em> and each of the <em>commands</em> are optional. If no path is specified, Edward will run the commands in the current working directory. If a build command is omitted, only the launch script will be executed, and vice versa. This allows you to run pre-flight build steps common to many services, or start third-party applications you don&rsquo;t need to build.</p>

<p>You can use environment variables in the path and commands:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    &quot;path&quot;: &quot;$HOME/src/myservice&quot;,
    &quot;commands&quot;: {
        &quot;launch&quot;: &quot;myservice -key $MY_KEY&quot;
    }
}
</code></pre>

<p>However, you cannot use shell-specific constructs like piping (<code>|</code>) or redirection (<code>&gt;</code>). For complex
build and launch operations, we recommend consolidating multiple commands into a separate script file.</p>

<h3 id="custom-stop-scripts">Custom Stop Scripts</h3>

<p>If you need to run a specific command to stop a service, you can add a <em>stop</em> command to the service definition:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    &quot;commands&quot;: {
        &quot;launch&quot;: &quot;myservice up&quot;,
        &quot;stop&quot;: &quot;myservice down&quot;
    }
}
</code></pre>

<p>If this command fails, Edward will attempt to send a kill signal to the running service.</p>

<h3 id="detecting-successful-launch">Detecting Successful Launch</h3>

<p>When Edward starts a service, it will confirm that the service has started successfully before proceeding. By default, Edward will consider a service to have started if it is listening on one or more ports.</p>

<p>You can override this behavior by setting the <em>launch_checks</em> attribute for the service.</p>

<p>If your service will output a known piece of text to the console when it has finished startup, you can specify a <em>log_text</em>:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;launch_checks&quot;: {
      &quot;log_text&quot;: &quot;Finished startup&quot;
    }
}
</code></pre>

<p>In this case, once the text &ldquo;Finished startup&rdquo; appears in the console lot, Edward will deem the service to have started successfully.</p>

<p>Alternatively, you can specify a set of ports:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;launch_checks&quot;: {
      &quot;ports&quot;: [8080, 8081]
    }
}
</code></pre>

<p>And Edward will wait for all the listed ports to be open before considering the service started. When ports are specified, the process that opens them will not be taken into account.</p>

<p>You can also configure Edward to wait for a given amount of time (in ms) before considering a service as successfully started:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;launch_checks&quot;: {
      &quot;wait&quot;: 500
    }
}
</code></pre>

<p>If the service process exits before the end of this time, it will be considered to have failed.</p>

<div class="admonition warning">
<p class="admonition-title">Only one launch check may be used</p>
<p>Note that only one of these checks may be configured for a single service.</p>
</div>

<h3 id="environment-variables">Environment Variables</h3>

<p>To specify environment variables to be passed to a service, you can add the <em>env</em> attribute, which is an array of environment variables in the form <code>KEY=VALUE</code>:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;env&quot;: [
      &quot;ENV_VAR=value&quot;
    ]
}
</code></pre>

<h3 id="platform-specific-services">Platform-Specific Services</h3>

<p>Some services need different configuration for different platforms. To make a service platform-specific, set the <em>platform</em> attribute.</p>

<p>It is permitted to have multiple services with the same name, provided they have different platforms.</p>

<p>The below example will create two instances of <em>myservice</em>: one for Mac OS (darwin) and one for Linux:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;platform&quot;: &quot;darwin&quot;
},
{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;platform&quot;: &quot;linux&quot;
}
</code></pre>

<h3 id="warming-up-services">&ldquo;Warming Up&rdquo; Services</h3>

<p>Some services may do a portion of their setup on the first request they receive. To cut down on waiting
time when working with such services, you can configure Edward to make a request to a URL after starting a service.</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;warmup&quot;: {
      &quot;url&quot;: &quot;http://localhost:8080&quot;
    }
}
</code></pre>

<p>Requests to these URLs will happen in the background, and will not delay the starting of other services.</p>

<h3 id="autorestart-watch">Autorestart (watch)</h3>

<p>To save you running <code>edward restart</code> every time you make a change to a service, you can configure a set of
directories to be monitored for changes. If a file in the specified directories changes, your service will
automatically be restarted.</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;watch&quot;: {
      &quot;include&quot;: [&quot;dir1&quot;, &quot;dir2&quot;]
    }
}
</code></pre>

<p>In the above example, changes in <em>dir1</em> or <em>dir2</em> will result in <em>myservice</em> being restarted.</p>

<p>You can also specify directories to be explicitly excluded:</p>

<pre><code class="language-json">{
    &quot;name&quot;: &quot;myservice&quot;,
    ...
    &quot;watch&quot;: {
      &quot;include&quot;: [&quot;dir1&quot;, &quot;dir2&quot;],
      &quot;exclude&quot;: [&quot;dir1/exclude&quot;]
    }
}
</code></pre>

<p>If rebuilding the service fails, the existing running instance will not be stopped. Details of attempts to
restart services can be found in the service logs.</p>

<h3 id="requiring-sudo">Requiring Sudo</h3>

<p>If a service needs sudo to run, it will need to be marked appropriately:</p>

<pre><code class="language-json">{
  &quot;name&quot;: &quot;myservice&quot;,
  &quot;requiresSudo&quot;: true
}
</code></pre>

<p>If any service to be started/stopped/restarted requires sudo, Edward will trigger a prompt for the user&rsquo;s password.
This prompt is triggered through scripting, Edward itself will not have access to your password.</p>

<h2 id="groups">Groups</h2>

<p>The <em>groups</em> array contains a list of group objects, each of which have a name and a list of children.
A group&rsquo;s children can be either services, or other groups.</p>

<pre><code class="language-json">{
  &quot;name&quot;: &quot;mygroup&quot;,
  &quot;children&quot;: [&quot;childgroup&quot;, &quot;childservice&quot;]
}
</code></pre>

<p>The above example specifies a group called <em>mygroup</em> with two children, <em>childgroup</em> and <em>childservice</em>.</p>

<p>You may also provide environment variables to be shared by the whole group, in the same format as for individual services:</p>

<pre><code class="language-json">{
  &quot;name&quot;: &quot;mygroup&quot;,
  &quot;children&quot;: [&quot;childgroup&quot;, &quot;childservice&quot;],
  &quot;env&quot;: [
    &quot;ENV_VAR=value&quot;
  ]
}
</code></pre>

<h2 id="imports">Imports</h2>

<p>The <em>imports</em> array is a list of other config files to be imported into this one:</p>

<pre><code class="language-json">&quot;imports&quot;: [&quot;import1.json&quot;, &quot;path/to/import2.json&quot;]
</code></pre>

<p>The paths to imports are relative to the parent <code>edward.json</code> file. Imported config files may also import other
config files.</p>

<p>The combined configuration is validated after all imports have been loaded, so a group in one file may have as a child a service from another file, provided they are connected by an import in some way.</p>

<h2 id="versioning">Versioning</h2>

<p>If you are using features from a new version of Edward, and want to make sure that your config file can only be used by that version or higher, you can specify the <em>edwardVersion</em> setting in your config file:</p>

<pre><code class="language-json">{
  &quot;edwardVersion&quot;: &quot;1.6.0&quot;,
  &quot;imports&quot;: [],
  &quot;groups&quot;: [],
  &quot;services&quot;: []
}
</code></pre>

<p>This will require that Edward version 1.6.0 or higher is installed in order to use your config file.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 Released under the MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="http://engblog.yext.com/edward/commands/" title="Commands">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Commands
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="http://engblog.yext.com/edward/autocompletion/" title="Autocompletion">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Autocompletion
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'http:\/\/engblog.yext.com\/edward\/';
      var repo_id  = 'yext\/edward';
    
    </script>

    <script src="http://engblog.yext.com/edward/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

